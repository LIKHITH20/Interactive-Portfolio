<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Resume Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .chat-container {
            height: calc(100vh - 200px);
        }
        .message-bubble {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .typing-indicator {
            animation: pulse 1.5s ease-in-out infinite;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                        <i class="fas fa-robot text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">AI Resume Assistant</h1>
                        <p class="text-blue-100 text-sm">Ask me anything about my qualifications and experience</p>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <div class="flex items-center space-x-2 bg-white bg-opacity-20 px-3 py-1 rounded-full">
                        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                        <span class="text-sm">Online</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6">
        <!-- Chat Container -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
            <!-- Chat Header -->
            <div class="bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                            <i class="fas fa-user-tie text-white"></i>
                        </div>
                        <div>
                            <h2 class="text-white font-semibold">Professional Assistant</h2>
                            <p class="text-blue-100 text-sm">Ready to discuss my background</p>
                        </div>
                    </div>
                    <button id="clearChat" class="text-white hover:text-blue-200 transition-colors">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
            </div>

            <!-- Messages Container -->
            <div id="messages" class="chat-container overflow-y-auto p-6 space-y-4">
                <!-- Welcome Message -->
                <div class="message-bubble">
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-robot text-primary-600"></i>
                        </div>
                        <div class="bg-gray-100 rounded-2xl rounded-tl-sm px-4 py-3 max-w-3xl">
                            <p class="text-gray-800">
                                Hello! I'm your AI resume assistant. I can answer questions about my professional background, 
                                skills, experience, and qualifications. Feel free to ask me anything - I'm here to help you 
                                learn more about my capabilities and achievements.
                            </p>
                            <div class="mt-3 flex flex-wrap gap-2">
                                <span class="bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm">Ask about my experience</span>
                                <span class="bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm">Learn about my skills</span>
                                <span class="bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm">Discuss my projects</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="border-t bg-gray-50 p-4">
                <div class="flex items-end space-x-3">
                    <div class="flex-1">
                        <textarea 
                            id="messageInput" 
                            placeholder="Ask me about my experience, skills, or any aspect of my professional background..."
                            class="w-full px-4 py-3 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none transition-all duration-200"
                            rows="1"
                        ></textarea>
                    </div>
                    <button 
                        id="sendButton" 
                        class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-2xl transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="mt-2 text-xs text-gray-500 text-center">
                    Press Enter to send â€¢ Shift+Enter for new line
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <div class="mt-8 grid md:grid-cols-3 gap-6">
            <div class="bg-white rounded-xl p-6 shadow-lg">
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                    <i class="fas fa-brain text-blue-600 text-xl"></i>
                </div>
                <h3 class="text-lg font-semibold text-gray-800 mb-2">Intelligent Responses</h3>
                <p class="text-gray-600 text-sm">I provide detailed, context-aware answers based on my complete professional background.</p>
            </div>
            <div class="bg-white rounded-xl p-6 shadow-lg">
                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4">
                    <i class="fas fa-shield-alt text-green-600 text-xl"></i>
                </div>
                <h3 class="text-lg font-semibold text-gray-800 mb-2">Accurate Information</h3>
                <p class="text-gray-600 text-sm">All responses are based solely on my resume data - no hallucinations or external information.</p>
            </div>
            <div class="bg-white rounded-xl p-6 shadow-lg">
                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4">
                    <i class="fas fa-mobile-alt text-purple-600 text-xl"></i>
                </div>
                <h3 class="text-lg font-semibold text-gray-800 mb-2">Mobile Friendly</h3>
                <p class="text-gray-600 text-sm">Fully responsive design that works perfectly on all devices and screen sizes.</p>
            </div>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl p-8 text-center">
            <div class="w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"></div>
            <p class="text-gray-700 font-medium">Processing your question...</p>
        </div>
    </div>

    <script>
        // Configuration
        const GEMINI_API_KEY = 'YOUR_GEMINI_API_KEY_HERE'; // Replace with your actual API key
        const GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent';

        // System instruction with resume data
        const SYSTEM_INSTRUCTION = `
You are a professional AI assistant representing a job candidate. Your role is to provide helpful, accurate, and engaging responses about the candidate's professional background, skills, and experience.

IMPORTANT: You must ONLY use information provided in the resume data below. Do not make up, assume, or hallucinate any information not explicitly stated in the resume. If asked about something not covered in the resume, politely explain that you don't have that specific information and suggest asking about other aspects of the candidate's background.

RESUME DATA:
[INSERT YOUR RESUME CONTENT HERE - Replace this placeholder with your actual resume information]

PERSONALITY:
- Be professional, friendly, and engaging
- Use "I" when referring to the candidate (e.g., "I have experience in...")
- Be specific and detailed when discussing qualifications
- Show enthusiasm about achievements and skills
- Ask clarifying questions if needed to provide better answers
- Keep responses concise but informative

RESPONSE GUIDELINES:
- Always stay within the bounds of the provided resume data
- If asked about something not in the resume, say "I don't have that specific information in my background, but I'd be happy to discuss [related topic from resume]"
- Focus on achievements, skills, and experiences that demonstrate value
- Use professional but conversational language
- Provide examples when possible
        `;

        // DOM Elements
        const messagesContainer = document.getElementById('messages');
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');
        const clearChatButton = document.getElementById('clearChat');
        const loadingOverlay = document.getElementById('loadingOverlay');

        // State
        let conversationHistory = [];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            adjustTextareaHeight();
        });

        function setupEventListeners() {
            sendButton.addEventListener('click', sendMessage);
            clearChatButton.addEventListener('click', clearChat);
            
            messageInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });

            messageInput.addEventListener('input', adjustTextareaHeight);
        }

        function adjustTextareaHeight() {
            messageInput.style.height = 'auto';
            messageInput.style.height = Math.min(messageInput.scrollHeight, 120) + 'px';
        }

        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            // Add user message to UI
            addMessage(message, 'user');
            messageInput.value = '';
            adjustTextareaHeight();

            // Show loading
            showLoading();

            try {
                // Add to conversation history
                conversationHistory.push({
                    role: 'user',
                    parts: [{ text: message }]
                });

                // Call Gemini API
                const response = await callGeminiAPI();
                
                // Add AI response to UI
                addMessage(response, 'assistant');
                
                // Add to conversation history
                conversationHistory.push({
                    role: 'model',
                    parts: [{ text: response }]
                });

            } catch (error) {
                console.error('Error:', error);
                addMessage('I apologize, but I encountered an error processing your request. Please try again.', 'assistant');
            } finally {
                hideLoading();
            }
        }

        async function callGeminiAPI() {
            const requestBody = {
                contents: conversationHistory,
                generationConfig: {
                    temperature: 0.7,
                    topK: 40,
                    topP: 0.95,
                    maxOutputTokens: 1024,
                },
                systemInstruction: {
                    parts: [{ text: SYSTEM_INSTRUCTION }]
                }
            };

            const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(requestBody)
            });

            if (!response.ok) {
                throw new Error(`API request failed: ${response.status}`);
            }

            const data = await response.json();
            return data.candidates[0].content.parts[0].text;
        }

        function addMessage(content, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message-bubble';
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3 justify-end">
                        <div class="bg-primary-600 text-white rounded-2xl rounded-tr-sm px-4 py-3 max-w-3xl">
                            <p>${content}</p>
                        </div>
                        <div class="w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-user text-white text-sm"></i>
                        </div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-robot text-primary-600"></i>
                        </div>
                        <div class="bg-gray-100 rounded-2xl rounded-tl-sm px-4 py-3 max-w-3xl">
                            <p class="text-gray-800 whitespace-pre-wrap">${content}</p>
                        </div>
                    </div>
                `;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function clearChat() {
            if (confirm('Are you sure you want to clear the conversation?')) {
                messagesContainer.innerHTML = `
                    <div class="message-bubble">
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-robot text-primary-600"></i>
                            </div>
                            <div class="bg-gray-100 rounded-2xl rounded-tl-sm px-4 py-3 max-w-3xl">
                                <p class="text-gray-800">
                                    Hello! I'm your AI resume assistant. I can answer questions about my professional background, 
                                    skills, experience, and qualifications. Feel free to ask me anything - I'm here to help you 
                                    learn more about my capabilities and achievements.
                                </p>
                                <div class="mt-3 flex flex-wrap gap-2">
                                    <span class="bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm">Ask about my experience</span>
                                    <span class="bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm">Learn about my skills</span>
                                    <span class="bg-primary-100 text-primary-700 px-3 py-1 rounded-full text-sm">Discuss my projects</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                conversationHistory = [];
            }
        }

        function showLoading() {
            loadingOverlay.classList.remove('hidden');
            sendButton.disabled = true;
            sendButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
        }

        function hideLoading() {
            loadingOverlay.classList.add('hidden');
            sendButton.disabled = false;
            sendButton.innerHTML = '<i class="fas fa-paper-plane"></i>';
        }
    </script>
</body>
</html>